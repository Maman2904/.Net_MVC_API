@{
    ViewData["Title"] = "Import File";
}

@* <div class="container">
      <div class="tab-content">
        <div class="tab-pane active">
            <div class="row">
                @using (Html.BeginForm("Index", "Import", FormMethod.Post, new { enctype = "multipart/form-data" }))
                {
                    <div class="form-group">
 
                        <label>Upload file</label>
 
                        <div class="col-sm-7">
                            <input type="file" id="postedFile" name="postedFile" class="form-control" accept=".xls,.xlsx" />
                        </div>
                    </div>
 
                    <div class="form-group">
 
                        <div class="col-md-offset-3 col-md-10">
                            <br />
                            <input type="submit" title="Upload" value="Upload" class="btn btn-default" />
                        </div>
                    </div>
                    <div class="form-group">
 
                        <div class="col-md-offset-3 col-md-10">
                            <br />
                            <span style="color:red;">
                                @ViewBag.Message
                            </span>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
 *@
<div class="row">
    @* //<form asp-action="Import">     *@
    <div class="col-sm-12" style="padding-bottom:20px">    
        <div class="col-sm-2">    
            <span>Select File  :</span>    
        </div>    
        <div class="col-sm-3">    
            <input class="form-control" type="file" name="importFile" id="importFile" />    
        </div>    
        <div class="col-sm-3">    
            <input class="btn btn-primary" id="btnUpload" type="button" value="Upload" />    
        </div>    
    </div> 
    @* </form>    *@
</div>   

@section scripts{  
    <script>  
  
        $(document).on("click", "#btnUpload", function () {  
            var files = $("#importFile").get(0).files;  
  
            var  formData =  new  FormData();  
            formData.append('importFile', files[0]);  
  
            $.ajax({  
                url: '/Kendaraan/Import',  
                data: formData,  
                type: 'POST',  
                contentType: false,  
                processData: false,  
                success: function (data) {
                    if (data.length > 0){
                    console.log(data, "datalogjs")
                        alert("Success to Import");   
                    }else{
                        alert("Failed to Import"); 
                    }
                }  
            });  
        });  
   </script>  
}  